<HTML><HEAD>
<META NAME=Copyright CONTENT="Copyright (c) 2007 H3C Corporation. All Rights Reserved.">
<META http-equiv=Content-Type content=text/html;charset=GB2312>
<META HTTP-EQUIV=Pragma CONTENT=no-cache>
<TITLE>FLUX_statistics</TITLE><LINK href=globe.css type=text/css rel=stylesheet>
<SCRIPT language=JavaScript src=icg_utils.js></SCRIPT>
<SCRIPT language=JavaScript src=icg_helpScript.js></SCRIPT>
<SCRIPT src=icg_navigatortab.js></SCRIPT>
<SCRIPT language=JavaScript src=icg_listContrlButton.js></SCRIPT>
<SCRIPT language=JavaScript>
var ip_stat_bit=new Array();
var ip_stat_pkt=new Array();
var baklist1;
var sortlist1;
var arp_list=new Array(
"10.2.53.7;F0:79:59:76:3A:A8;;静态绑定;1;"
,"10.2.53.8;10:BF:48:BC:CD:19;;静态绑定;2;"
,"10.2.53.9;00:15:5D:01:6E:01;;静态绑定;3;"
,"10.2.53.78;F0:DE:F1:0A:E4:B4;;未绑定;0;"
,"10.2.53.208;88:25:93:4A:6A:6A;;未绑定;0;"
,"10.2.53.64;78:4F:43:60:AC:84;;未绑定;0;"
,"10.2.53.50;00:14:EE:0C:08:45;;未绑定;0;"
,"10.2.53.36;1C:5C:F2:29:24:78;;未绑定;0;"
,"10.2.53.152;F0:DE:F1:CE:81:04;;未绑定;0;"
,"10.2.53.59;28:D2:44:DB:2A:BD;;未绑定;0;"
,"10.2.53.31;F4:5C:89:A1:C0:35;;未绑定;0;"
,"10.2.53.212;74:E5:0B:F0:70:FC;;未绑定;0;"
,"10.2.53.82;44:37:E6:4F:97:90;;未绑定;0;"
,"10.2.53.17;54:35:30:96:0C:A1;;未绑定;0;"
,"10.2.53.133;9C:4F:DA:51:AB:C5;;未绑定;0;"
,"10.2.53.119;68:F7:28:C8:D8:2A;;未绑定;0;"
,"10.2.53.105;90:FB:A6:05:A0:AC;;未绑定;0;"
,"10.2.53.91;04:7D:7B:B5:61:56;;未绑定;0;"
,"10.2.53.26;68:EF:43:78:BC:F4;;未绑定;0;"
,"10.2.53.12;C8:5B:76:D4:36:3C;;未绑定;0;"
,"10.2.53.193;1C:15:1F:92:1D:ED;;未绑定;0;"
,"10.2.53.49;60:67:20:EC:2B:2C;;未绑定;0;"
,"10.2.53.114;E0:DB:55:C5:F6:A4;;未绑定;0;"
,"10.2.53.165;F4:8E:38:E7:2E:F9;;未绑定;0;"
,"10.2.53.100;38:D5:47:28:BA:BA;;未绑定;0;"
,"10.2.53.35;74:1B:B2:B2:BB:3A;;未绑定;0;"
,"10.2.53.86;50:7B:9D:CF:32:08;;未绑定;0;"
,"10.2.53.58;1C:15:1F:24:82:8F;;未绑定;0;"
,"10.2.53.109;C0:3F:D5:5B:53:09;;未绑定;0;"
,"10.2.53.95;F0:DE:F1:EF:BC:F2;;未绑定;0;"
,"10.2.53.132;44:37:E6:8F:DA:5D;;未绑定;0;"
,"10.2.53.67;20:AB:37:2B:06:7A;;未绑定;0;"
,"10.2.53.183;14:DA:E9:5D:4C:E0;;未绑定;0;"
,"10.2.53.53;20:16:D8:F3:15:CF;;未绑定;0;"
,"10.2.53.118;54:E1:AD:A8:FB:F1;;未绑定;0;"
,"10.2.53.169;E8:B2:AC:BA:85:AE;;未绑定;0;"
,"10.2.53.39;78:4F:43:94:C5:D7;;未绑定;0;"
,"10.2.53.220;D8:CB:8A:46:91:5C;;未绑定;0;"
,"10.2.53.11;B0:89:00:34:F2:F4;;未绑定;0;"
,"10.2.53.62;54:AB:3A:A9:D1:D4;;未绑定;0;"
,"10.2.53.113;00:0E:A9:31:2D:60;;未绑定;0;"
,"10.2.53.99;04:7D:7B:D6:A2:84;;未绑定;0;"
,"10.2.53.20;FC:F8:AE:EB:0B:90;;未绑定;0;"
,"10.2.53.85;44:37:E6:88:75:8A;;未绑定;0;"
,"10.2.53.201;00:71:CC:97:1A:7F;;未绑定;0;"
,"10.2.53.136;44:37:E6:88:75:49;;未绑定;0;"
,"10.2.53.122;5C:FF:35:08:0A:A4;;未绑定;0;"
,"10.2.53.187;5C:AD:CF:81:62:94;;未绑定;0;"
,"10.2.53.43;54:14:73:B6:DA:DA;;未绑定;0;"
,"10.2.53.108;A4:BA:DB:A0:42:D7;;未绑定;0;"
,"10.2.53.145;78:84:3C:AB:C4:FF;;未绑定;0;"
,"10.2.53.66;80:FA:5B:37:99:53;;未绑定;0;"
,"10.2.53.131;E4:F8:9C:F6:5C:D4;;未绑定;0;"
,"10.2.53.117;74:23:44:E9:B4:70;;未绑定;0;"
,"10.2.53.168;20:AB:37:8D:92:3E;;未绑定;0;"
,"10.2.53.89;8C:89:A5:BD:46:C8;;未绑定;0;"
,"10.2.53.205;B0:25:AA:22:FF:64;;未绑定;0;"
,"10.2.53.75;5C:9A:D8:E4:9F:B0;;未绑定;0;"
,"10.2.53.61;DC:F0:90:9C:91:DA;;未绑定;0;"
,"10.2.53.112;8C:DC:D4:60:FF:3A;;未绑定;0;"
,"10.2.53.177;00:0E:A9:31:3C:E1;;未绑定;0;"
,"10.2.53.33;78:4F:43:81:3E:DA;;未绑定;0;"
,"10.2.53.84;D4:3D:7E:39:85:12;;未绑定;0;"
,"10.2.53.135;44:37:E6:8A:DA:EA;;未绑定;0;"
,"10.2.53.56;DC:37:14:79:74:04;;未绑定;0;"
,"10.2.53.42;00:23:14:7B:96:70;;未绑定;0;"
,"10.2.53.107;8C:89:A5:3F:F8:C3;;未绑定;0;"
,"10.2.53.93;28:F3:66:09:88:95;;未绑定;0;"
,"10.2.53.144;A8:5B:78:31:12:67;;未绑定;0;"
,"10.2.53.65;04:95:73:DE:40:F4;;未绑定;0;"
,"10.2.53.246;44:37:E6:88:75:D7;;未绑定;0;"
,"10.2.53.116;8C:A6:DF:10:99:19;;未绑定;0;"
,"10.2.53.181;28:6C:07:AE:CB:A0;;未绑定;0;"
,"10.2.53.37;24:0A:64:96:10:B7;;未绑定;0;"
,"10.2.53.102;6C:0B:84:3C:FB:B4;;未绑定;0;"
,"10.2.53.153;4C:49:E3:53:6B:E0;;未绑定;0;"
,"10.2.53.23;E4:A7:A0:38:30:C9;;未绑定;0;"
,"10.2.53.88;04:7D:7B:4A:CE:8A;;未绑定;0;"
,"10.2.53.60;68:F7:28:2B:6C:AD;;未绑定;0;"
,"10.2.53.241;00:40:EF:00:01:01;;未绑定;0;"
,"10.2.53.176;44:37:E6:8B:D8:63;;未绑定;0;"
,"10.2.53.97;EC:A8:6B:60:35:BF;;未绑定;0;"
,"10.2.53.32;CC:2D:B7:55:22:D2;;未绑定;0;"
,"10.2.53.83;00:23:24:88:81:BF;;未绑定;0;"
,"10.2.53.18;D8:96:95:5A:51:87;;未绑定;0;"
,"10.2.53.185;70:5A:0F:CA:B5:97;;未绑定;0;"
,"10.2.53.120;64:9A:BE:50:E1:C2;;未绑定;0;"
,"10.2.53.106;00:21:CC:CD:A2:7D;;未绑定;0;"

);
var initclass=["no","no","no","no","no","no","no"];
var pattern=/([^;]+);([^;]+);([^;]+);([^;]+);([^;]+);([^;]+);([^;]+)/;
var ip_stat=new Array();

ip_stat[0]=['10.2.53.10','0','0',0,     0.000,0,     0.000,0,     0.000,3,167916810,'0000000000000000000000000000000000000000000000000000000000000000','0000000000000000000000000000000000000000000000000000000000000000',0,     0.000,3,0,0];

ip_stat[1]=['10.2.53.56','116','302.112K',0,     0.000,0,     0.000,0,     0.000,1,167916856,'0000000000000000000000000000000000000000000000000000000000000116','0000000000000000000000000000000000000000000000000000000000302112',0,     0.000,1,0,0];

ip_stat[2]=['10.2.53.183','23','22.5760K',0,     0.000,0,     0.000,0,     0.000,2,167916983,'0000000000000000000000000000000000000000000000000000000000000023','0000000000000000000000000000000000000000000000000000000000022576',0,     0.000,2,0,0];

ip_stat[3]=['10.2.53.26','25.5350K','108.126M',112,   715.181,49,    33.777,63,   681.404,59,167916826,'0000000000000000000000000000000000000000000000000000000000025535','0000000000000000000000000000000000000000000000000000000108126520',63,   681.404,21,38,0];

ip_stat[4]=['10.2.53.42','57','83.1600K',0,     0.238,0,     0.067,0,     0.171,5,167916842,'0000000000000000000000000000000000000000000000000000000000000057','0000000000000000000000000000000000000000000000000000000000083160',0,     0.171,2,3,0];

ip_stat[5]=['10.2.53.144','49.8760K','412.601M',121,  1302.993,11,    16.347,110,  1286.646,3,167916944,'0000000000000000000000000000000000000000000000000000000000049876','0000000000000000000000000000000000000000000000000000000412601616',110,  1286.646,2,1,0];

ip_stat[6]=['10.2.53.60','2.67200K','6.86651M',2,     6.923,1,     2.805,1,     4.118,12,167916860,'0000000000000000000000000000000000000000000000000000000000002672','0000000000000000000000000000000000000000000000000000000006866512',1,     4.118,7,5,0];

ip_stat[7]=['10.2.53.32','1.08800K','4.88131M',0,     0.000,0,     0.000,0,     0.000,2,167916832,'0000000000000000000000000000000000000000000000000000000000001088','0000000000000000000000000000000000000000000000000000000004881312',0,     0.000,2,0,0];

ip_stat[8]=['10.2.53.187','17.9570K','92.4698M',6,     9.777,4,     3.581,2,     6.196,7,167916987,'0000000000000000000000000000000000000000000000000000000000017957','0000000000000000000000000000000000000000000000000000000092469872',2,     6.196,3,4,0];

ip_stat[9]=['10.2.53.33','215.895K','1.63941G',0,     0.062,0,     0.062,0,     0.000,11,167916833,'0000000000000000000000000000000000000000000000000000000000215895','0000000000000000000000000000000000000000000000000000001639417232',0,     0.000,11,0,0];

ip_stat[10]=['10.2.53.133','66.3790K','63.4267M',66,    55.471,28,    13.952,38,    41.519,6,167916933,'0000000000000000000000000000000000000000000000000000000000066379','0000000000000000000000000000000000000000000000000000000063426784',38,    41.519,5,1,0];

ip_stat[11]=['10.2.53.37','5.57700K','18.3457M',1,     0.984,1,     0.706,0,     0.278,19,167916837,'0000000000000000000000000000000000000000000000000000000000005577','0000000000000000000000000000000000000000000000000000000018345768',0,     0.278,12,7,0];

ip_stat[12]=['10.2.53.36','152.858K','1.24032G',445,  3858.994,25,    25.620,420,  3833.374,116,167916836,'0000000000000000000000000000000000000000000000000000000000152858','0000000000000000000000000000000000000000000000000000001240327384',420,  3833.374,4,112,0];

ip_stat[13]=['10.2.53.12','30.3670K','185.478M',0,     0.044,0,     0.044,0,     0.000,9,167916812,'0000000000000000000000000000000000000000000000000000000000030367','0000000000000000000000000000000000000000000000000000000185478864',0,     0.000,9,0,0];

ip_stat[14]=['10.2.53.86','5.36300K','9.04079M',0,     0.835,0,     0.296,0,     0.539,13,167916886,'0000000000000000000000000000000000000000000000000000000000005363','0000000000000000000000000000000000000000000000000000000009040792',0,     0.539,3,9,1];

ip_stat[15]=['10.2.53.114','2.60100K','5.21981M',0,     1.582,0,     0.655,0,     0.927,4,167916914,'0000000000000000000000000000000000000000000000000000000000002601','0000000000000000000000000000000000000000000000000000000005219816',0,     0.927,2,2,0];

ip_stat[16]=['10.2.53.23','213','318.312K',0,     0.000,0,     0.000,0,     0.000,1,167916823,'0000000000000000000000000000000000000000000000000000000000000213','0000000000000000000000000000000000000000000000000000000000318312',0,     0.000,0,1,0];

ip_stat[17]=['10.2.53.117','521.206K','4.02350G',602,  5412.772,580,  5389.720,22,    23.052,34,167916917,'0000000000000000000000000000000000000000000000000000000000521206','0000000000000000000000000000000000000000000000000000004023506952',22,    23.052,6,28,0];

ip_stat[18]=['10.2.53.97','76.1590K','567.784M',16,   110.006,5,    14.999,11,    95.007,11,167916897,'0000000000000000000000000000000000000000000000000000000000076159','0000000000000000000000000000000000000000000000000000000567784024',11,    95.007,5,6,0];

ip_stat[19]=['10.2.53.31','969.183K','7.25309G',260,  1954.250,101,    62.381,159,  1891.869,19,167916831,'0000000000000000000000000000000000000000000000000000000000969183','0000000000000000000000000000000000000000000000000000007253091736',159,  1891.869,13,6,0];

ip_stat[20]=['10.2.53.64','28.1190K','77.4079M',5,    13.875,3,     7.639,2,     6.236,4,167916864,'0000000000000000000000000000000000000000000000000000000000028119','0000000000000000000000000000000000000000000000000000000077407912',2,     6.236,3,1,0];

ip_stat[21]=['10.2.53.185','35.9940K','120.233M',1,     1.108,1,     0.909,0,     0.199,11,167916985,'0000000000000000000000000000000000000000000000000000000000035994','0000000000000000000000000000000000000000000000000000000120233904',0,     0.199,10,1,0];

ip_stat[22]=['10.2.53.66','38.0290K','137.213M',0,     0.830,0,     0.381,0,     0.449,17,167916866,'0000000000000000000000000000000000000000000000000000000000038029','0000000000000000000000000000000000000000000000000000000137213352',0,     0.449,16,1,0];

ip_stat[23]=['10.2.53.165','160.696K','1.19521G',2,     1.804,1,     1.148,1,     0.656,25,167916965,'0000000000000000000000000000000000000000000000000000000000160696','0000000000000000000000000000000000000000000000000000001195210128',1,     0.656,20,5,0];

ip_stat[24]=['10.2.53.59','87.3690K','617.028M',2,     6.532,1,     1.068,1,     5.464,10,167916859,'0000000000000000000000000000000000000000000000000000000000087369','0000000000000000000000000000000000000000000000000000000617028856',1,     5.464,8,2,0];

ip_stat[25]=['10.2.53.122','38.5020K','223.293M',4,     5.114,2,     2.506,2,     2.608,18,167916922,'0000000000000000000000000000000000000000000000000000000000038502','0000000000000000000000000000000000000000000000000000000223293792',2,     2.608,15,3,0];

ip_stat[26]=['10.2.53.62','760.437K','4.96319G',2,     2.721,1,     1.891,1,     0.830,22,167916862,'0000000000000000000000000000000000000000000000000000000000760437','0000000000000000000000000000000000000000000000000000004963198416',1,     0.830,19,3,0];

ip_stat[27]=['10.2.53.205','56.4410K','282.037M',0,     1.274,0,     0.658,0,     0.616,18,167917005,'0000000000000000000000000000000000000000000000000000000000056441','0000000000000000000000000000000000000000000000000000000282037888',0,     0.616,8,10,0];

ip_stat[28]=['10.2.53.208','279.254K','1.94495G',6,     9.250,3,     5.347,3,     3.903,16,167917008,'0000000000000000000000000000000000000000000000000000000000279254','0000000000000000000000000000000000000000000000000000001944952664',3,     3.903,7,9,0];

ip_stat[29]=['10.2.53.181','1.15600K','736.640K',0,     0.000,0,     0.000,0,     0.000,2,167916981,'0000000000000000000000000000000000000000000000000000000000001156','0000000000000000000000000000000000000000000000000000000000736640',0,     0.000,2,0,0];

ip_stat[30]=['10.2.53.109','5.92400K','4.30623M',0,     0.620,0,     0.310,0,     0.310,1,167916909,'0000000000000000000000000000000000000000000000000000000000005924','0000000000000000000000000000000000000000000000000000000004306232',0,     0.310,1,0,0];

ip_stat[31]=['10.2.53.119','27.6930K','101.496M',0,     0.000,0,     0.000,0,     0.000,8,167916919,'0000000000000000000000000000000000000000000000000000000000027693','0000000000000000000000000000000000000000000000000000000101496280',0,     0.000,7,1,0];

ip_stat[32]=['10.2.53.115','13.4490K','47.4837M',0,     0.000,0,     0.000,0,     0.000,3,167916915,'0000000000000000000000000000000000000000000000000000000000013449','0000000000000000000000000000000000000000000000000000000047483744',0,     0.000,3,0,0];

ip_stat[33]=['10.2.53.113','1.25900K','3.82125M',0,     3.233,0,     1.358,0,     1.875,1,167916913,'0000000000000000000000000000000000000000000000000000000000001259','0000000000000000000000000000000000000000000000000000000003821256',0,     1.875,0,1,0];

ip_stat[34]=['10.2.53.102','7.23800K','8.03076M',0,     0.390,0,     0.097,0,     0.293,9,167916902,'0000000000000000000000000000000000000000000000000000000000007238','0000000000000000000000000000000000000000000000000000000008030760',0,     0.293,2,6,1];

ip_stat[35]=['10.2.53.83','14.1380K','91.1073M',2,     4.540,1,     2.650,1,     1.890,6,167916883,'0000000000000000000000000000000000000000000000000000000000014138','0000000000000000000000000000000000000000000000000000000091107336',1,     1.890,2,4,0];

ip_stat[36]=['10.2.53.82','34.2970K','154.013M',0,     0.000,0,     0.000,0,     0.000,2,167916882,'0000000000000000000000000000000000000000000000000000000000034297','0000000000000000000000000000000000000000000000000000000154013024',0,     0.000,2,0,0];

ip_stat[37]=['10.2.53.53','30.3580K','104.075M',3,     4.807,2,     1.140,1,     3.667,84,167916853,'0000000000000000000000000000000000000000000000000000000000030358','0000000000000000000000000000000000000000000000000000000104075608',1,     3.667,81,3,0];

ip_stat[38]=['10.2.53.50','1.06100K','814.448K',0,     0.076,0,     0.000,0,     0.076,1,167916850,'0000000000000000000000000000000000000000000000000000000000001061','0000000000000000000000000000000000000000000000000000000000814448',0,     0.076,0,1,0];

ip_stat[39]=['10.2.53.118','277.956K','2.07694G',1,     0.872,1,     0.700,0,     0.172,15,167916918,'0000000000000000000000000000000000000000000000000000000000277956','0000000000000000000000000000000000000000000000000000002076947864',0,     0.172,15,0,0];

ip_stat[40]=['10.2.53.65','24.4350K','83.0339M',1,     0.528,1,     0.528,0,     0.000,19,167916865,'0000000000000000000000000000000000000000000000000000000000024435','0000000000000000000000000000000000000000000000000000000083033912',0,     0.000,19,0,0];

ip_stat[41]=['10.2.53.220','7.64700K','28.7004M',0,     0.000,0,     0.000,0,     0.000,5,167917020,'0000000000000000000000000000000000000000000000000000000000007647','0000000000000000000000000000000000000000000000000000000028700456',0,     0.000,4,1,0];

ip_stat[42]=['10.2.53.152','63.2300K','481.507M',0,     0.000,0,     0.000,0,     0.000,8,167916952,'0000000000000000000000000000000000000000000000000000000000063230','0000000000000000000000000000000000000000000000000000000481507160',0,     0.000,6,2,0];

ip_stat[43]=['10.2.53.135','202.418K','925.503M',14,    15.663,6,     3.973,8,    11.690,9,167916935,'0000000000000000000000000000000000000000000000000000000000202418','0000000000000000000000000000000000000000000000000000000925503904',8,    11.690,8,1,0];

ip_stat[44]=['10.2.53.89','56.3210K','291.985M',2,     4.260,1,     1.817,1,     2.443,9,167916889,'0000000000000000000000000000000000000000000000000000000000056321','0000000000000000000000000000000000000000000000000000000291985440',1,     2.443,5,4,0];

ip_stat[45]=['10.2.53.145','56.4020K','281.171M',2,     6.884,1,     3.903,1,     2.981,7,167916945,'0000000000000000000000000000000000000000000000000000000000056402','0000000000000000000000000000000000000000000000000000000281171440',1,     2.981,5,2,0];

ip_stat[46]=['10.2.53.184','111.745K','425.117M',0,     0.000,0,     0.000,0,     0.000,1,167916984,'0000000000000000000000000000000000000000000000000000000000111745','0000000000000000000000000000000000000000000000000000000425117680',0,     0.000,0,1,0];

ip_stat[47]=['10.2.53.49','94.9930K','618.321M',0,     0.236,0,     0.236,0,     0.000,5,167916849,'0000000000000000000000000000000000000000000000000000000000094993','0000000000000000000000000000000000000000000000000000000618321536',0,     0.000,5,0,0];

ip_stat[48]=['10.2.53.132','103.863K','801.042M',4,     6.475,2,     3.866,2,     2.609,8,167916932,'0000000000000000000000000000000000000000000000000000000000103863','0000000000000000000000000000000000000000000000000000000801042416',2,     2.609,4,4,0];

ip_stat[49]=['10.2.53.246','149.553K','872.478M',0,     1.387,0,     0.655,0,     0.732,16,167917046,'0000000000000000000000000000000000000000000000000000000000149553','0000000000000000000000000000000000000000000000000000000872478912',0,     0.732,5,11,0];

ip_stat[50]=['10.2.53.88','58.5140K','224.171M',2,     5.301,1,     3.247,1,     2.054,18,167916888,'0000000000000000000000000000000000000000000000000000000000058514','0000000000000000000000000000000000000000000000000000000224171200',1,     2.054,7,11,0];

ip_stat[51]=['10.2.53.43','130.288K','929.372M',0,     0.883,0,     0.559,0,     0.324,8,167916843,'0000000000000000000000000000000000000000000000000000000000130288','0000000000000000000000000000000000000000000000000000000929372152',0,     0.324,8,0,0];

ip_stat[52]=['10.2.53.176','88.1690K','558.283M',0,     0.528,0,     0.435,0,     0.093,8,167916976,'0000000000000000000000000000000000000000000000000000000000088169','0000000000000000000000000000000000000000000000000000000558283808',0,     0.093,5,3,0];

ip_stat[53]=['10.2.53.136','84.2320K','463.937M',0,     0.569,0,     0.240,0,     0.329,7,167916936,'0000000000000000000000000000000000000000000000000000000000084232','0000000000000000000000000000000000000000000000000000000463937384',0,     0.329,5,2,0];

ip_stat[54]=['10.2.53.100','615.545K','2.34764G',227,   949.281,112,   877.209,115,    72.072,238,167916900,'0000000000000000000000000000000000000000000000000000000000615545','0000000000000000000000000000000000000000000000000000002347640736',115,    72.072,13,224,1];

ip_stat[55]=['10.2.53.106','389.561K','3.24343G',0,     1.134,0,     0.476,0,     0.658,16,167916906,'0000000000000000000000000000000000000000000000000000000000389561','0000000000000000000000000000000000000000000000000000003243432664',0,     0.658,8,8,0];

ip_stat[56]=['10.2.53.75','98.5790K','470.313M',0,     0.521,0,     0.165,0,     0.356,6,167916875,'0000000000000000000000000000000000000000000000000000000000098579','0000000000000000000000000000000000000000000000000000000470313096',0,     0.356,4,2,0];

ip_stat[57]=['10.2.53.131','202.515K','1006.18M',5,     9.344,3,     3.764,2,     5.580,21,167916931,'0000000000000000000000000000000000000000000000000000000000202515','0000000000000000000000000000000000000000000000000000001006188504',2,     5.580,11,10,0];

ip_stat[58]=['10.2.53.17','103.843K','372.784M',0,     0.826,0,     0.327,0,     0.499,9,167916817,'0000000000000000000000000000000000000000000000000000000000103843','0000000000000000000000000000000000000000000000000000000372784064',0,     0.499,7,2,0];

ip_stat[59]=['10.2.53.91','13.2120K','34.9954M',0,     0.000,0,     0.000,0,     0.000,15,167916891,'0000000000000000000000000000000000000000000000000000000000013212','0000000000000000000000000000000000000000000000000000000034995432',0,     0.000,13,2,0];

ip_stat[60]=['10.2.53.84','114.142K','585.218M',2,    10.560,1,     5.598,1,     4.962,10,167916884,'0000000000000000000000000000000000000000000000000000000000114142','0000000000000000000000000000000000000000000000000000000585218976',1,     4.962,9,1,0];

ip_stat[61]=['10.2.53.108','149.811K','949.187M',2,     2.703,1,     1.478,1,     1.225,37,167916908,'0000000000000000000000000000000000000000000000000000000000149811','0000000000000000000000000000000000000000000000000000000949187808',1,     1.225,31,6,0];

ip_stat[62]=['10.2.53.95','113.472K','513.740M',0,     3.813,0,     0.442,0,     3.371,10,167916895,'0000000000000000000000000000000000000000000000000000000000113472','0000000000000000000000000000000000000000000000000000000513740168',0,     3.371,6,4,0];

ip_stat[63]=['10.2.53.39','389.824K','1.85772G',0,     0.861,0,     0.516,0,     0.345,17,167916839,'0000000000000000000000000000000000000000000000000000000000389824','0000000000000000000000000000000000000000000000000000001857726144',0,     0.345,16,1,0];

ip_stat[64]=['10.2.53.105','67.6080K','251.537M',1,     5.072,1,     3.084,0,     1.988,16,167916905,'0000000000000000000000000000000000000000000000000000000000067608','0000000000000000000000000000000000000000000000000000000251537696',0,     1.988,13,3,0];

ip_stat[65]=['10.2.53.85','194.919K','1.23314G',0,     1.412,0,     0.774,0,     0.638,8,167916885,'0000000000000000000000000000000000000000000000000000000000194919','0000000000000000000000000000000000000000000000000000001233144296',0,     0.638,5,3,0];

ip_stat[66]=['10.2.53.93','139.145K','642.423M',1,     1.678,1,     1.090,0,     0.588,14,167916893,'0000000000000000000000000000000000000000000000000000000000139145','0000000000000000000000000000000000000000000000000000000642423472',0,     0.588,12,2,0];

ip_stat[67]=['10.2.53.99','11.0980K','32.7556M',0,     0.087,0,     0.044,0,     0.043,4,167916899,'0000000000000000000000000000000000000000000000000000000000011098','0000000000000000000000000000000000000000000000000000000032755632',0,     0.043,4,0,0];

ip_stat[68]=['10.2.53.177','254.320K','282.269M',20,    19.289,10,     9.155,10,    10.134,4,167916977,'0000000000000000000000000000000000000000000000000000000000254320','0000000000000000000000000000000000000000000000000000000282269560',10,    10.134,0,4,0];

ip_stat[69]=['10.2.53.9','356.318K','1.97341G',173,  1185.494,64,    81.296,109,  1104.198,42,167916809,'0000000000000000000000000000000000000000000000000000000000356318','0000000000000000000000000000000000000000000000000000001973411712',109,  1104.198,33,9,0];

ip_stat[70]=['10.2.53.107','171.132K','756.941M',0,     0.000,0,     0.000,0,     0.000,7,167916907,'0000000000000000000000000000000000000000000000000000000000171132','0000000000000000000000000000000000000000000000000000000756941944',0,     0.000,5,2,0];

ip_stat[71]=['10.2.53.116','6.26673M','34.0749G',0,     0.324,0,     0.122,0,     0.202,14,167916916,'0000000000000000000000000000000000000000000000000000000006266736','0000000000000000000000000000000000000000000000000000034074942024',0,     0.202,3,11,0];


addCfg("inter_ip_flux_en",0x2b041000,"1");
addCfg("statistics_cycle",0x2b042000,"10");

	
var qos_ip_list = new Array();
var wan_intf="WAN1 WAN2";

var sz_wan=wan_intf.split(' ');
var real_wan_num = sz_wan.length;

var weekday = new Array('Sun', 'Mon', 'Tue','Wed', 'Thu', 'Fri', 'Sat');
var day = new Array('日', '一', '二','三', '四', '五', '六');
 
//ip_stat[0]=['192.168.1.198','98.1740K','38.1190M',2,     3.384,1,     3.384,1,     0.592,1,3232235974,'0000000000000000000000000000000000000000000000000000000000098174','0000000000000000000000000000000000000000000000000000000058119008',1,     4.592];
//ip_stat[1]=['192.168.2.198','98.1740K','58.1190M',2,     5.484,1,     5.484,1,     0.592,1,3232235974,'0000000000000000000000000000000000000000000000000000000000098174','0000000000000000000000000000000000000000000000000000000058119008',1,     6.592];
//ip_stat[2]=['192.168.3.198','98.1740K','48.1190M',2,     4.284,1,     4.284,1,     0.592,1,3232235974,'0000000000000000000000000000000000000000000000000000000000098174','0000000000000000000000000000000000000000000000000000000058119008',1,     5.592];
//ip_stat[3]=['192.168.4.198','98.1740K','28.1190M',2,     2.584,1,     2.584,1,     0.592,1,3232235974,'0000000000000000000000000000000000000000000000000000000000098174','0000000000000000000000000000000000000000000000000000000058119008',1,     3.592];
var datelist=new Array();
datelist = generate_dates();//排序

var modeflag=0;
var ip_stat_num=0;

IPMACtie_maxnum='512';

IPMACtie_curnum='3';


ipqos_wan_num='2';

ipqos_lanip_max_ipnum='4096';


var VlanAllInfo=new Array("VLAN1;1;10.2.53.1;255.255.255.0;0.0.0.0;0.0.0.0");

IPMACtie_maxnum='512';

IPMACtie_curnum='3';

var arp_list=new Array("10.2.53.7;F0:79:59:76:3A:A8;;静态绑定;1;"
,"10.2.53.8;10:BF:48:BC:CD:19;;静态绑定;2;"
,"10.2.53.9;00:15:5D:01:6E:01;;静态绑定;3;"
,"10.2.53.78;F0:DE:F1:0A:E4:B4;;未绑定;0;"
,"10.2.53.208;88:25:93:4A:6A:6A;;未绑定;0;"
,"10.2.53.64;78:4F:43:60:AC:84;;未绑定;0;"
,"10.2.53.50;00:14:EE:0C:08:45;;未绑定;0;"
,"10.2.53.36;1C:5C:F2:29:24:78;;未绑定;0;"
,"10.2.53.152;F0:DE:F1:CE:81:04;;未绑定;0;"
,"10.2.53.59;28:D2:44:DB:2A:BD;;未绑定;0;"
,"10.2.53.31;F4:5C:89:A1:C0:35;;未绑定;0;"
,"10.2.53.212;74:E5:0B:F0:70:FC;;未绑定;0;"
,"10.2.53.82;44:37:E6:4F:97:90;;未绑定;0;"
,"10.2.53.17;54:35:30:96:0C:A1;;未绑定;0;"
,"10.2.53.133;9C:4F:DA:51:AB:C5;;未绑定;0;"
,"10.2.53.119;68:F7:28:C8:D8:2A;;未绑定;0;"
,"10.2.53.105;90:FB:A6:05:A0:AC;;未绑定;0;"
,"10.2.53.91;04:7D:7B:B5:61:56;;未绑定;0;"
,"10.2.53.26;68:EF:43:78:BC:F4;;未绑定;0;"
,"10.2.53.12;C8:5B:76:D4:36:3C;;未绑定;0;"
,"10.2.53.193;1C:15:1F:92:1D:ED;;未绑定;0;"
,"10.2.53.49;60:67:20:EC:2B:2C;;未绑定;0;"
,"10.2.53.114;E0:DB:55:C5:F6:A4;;未绑定;0;"
,"10.2.53.165;F4:8E:38:E7:2E:F9;;未绑定;0;"
,"10.2.53.100;38:D5:47:28:BA:BA;;未绑定;0;"
,"10.2.53.35;74:1B:B2:B2:BB:3A;;未绑定;0;"
,"10.2.53.86;50:7B:9D:CF:32:08;;未绑定;0;"
,"10.2.53.58;1C:15:1F:24:82:8F;;未绑定;0;"
,"10.2.53.109;C0:3F:D5:5B:53:09;;未绑定;0;"
,"10.2.53.95;F0:DE:F1:EF:BC:F2;;未绑定;0;"
,"10.2.53.132;44:37:E6:8F:DA:5D;;未绑定;0;"
,"10.2.53.67;20:AB:37:2B:06:7A;;未绑定;0;"
,"10.2.53.183;14:DA:E9:5D:4C:E0;;未绑定;0;"
,"10.2.53.53;20:16:D8:F3:15:CF;;未绑定;0;"
,"10.2.53.118;54:E1:AD:A8:FB:F1;;未绑定;0;"
,"10.2.53.169;E8:B2:AC:BA:85:AE;;未绑定;0;"
,"10.2.53.39;78:4F:43:94:C5:D7;;未绑定;0;"
,"10.2.53.220;D8:CB:8A:46:91:5C;;未绑定;0;"
,"10.2.53.11;B0:89:00:34:F2:F4;;未绑定;0;"
,"10.2.53.62;54:AB:3A:A9:D1:D4;;未绑定;0;"
,"10.2.53.113;00:0E:A9:31:2D:60;;未绑定;0;"
,"10.2.53.99;04:7D:7B:D6:A2:84;;未绑定;0;"
,"10.2.53.20;FC:F8:AE:EB:0B:90;;未绑定;0;"
,"10.2.53.85;44:37:E6:88:75:8A;;未绑定;0;"
,"10.2.53.201;00:71:CC:97:1A:7F;;未绑定;0;"
,"10.2.53.136;44:37:E6:88:75:49;;未绑定;0;"
,"10.2.53.122;5C:FF:35:08:0A:A4;;未绑定;0;"
,"10.2.53.187;5C:AD:CF:81:62:94;;未绑定;0;"
,"10.2.53.43;54:14:73:B6:DA:DA;;未绑定;0;"
,"10.2.53.108;A4:BA:DB:A0:42:D7;;未绑定;0;"
,"10.2.53.145;78:84:3C:AB:C4:FF;;未绑定;0;"
,"10.2.53.66;80:FA:5B:37:99:53;;未绑定;0;"
,"10.2.53.131;E4:F8:9C:F6:5C:D4;;未绑定;0;"
,"10.2.53.117;74:23:44:E9:B4:70;;未绑定;0;"
,"10.2.53.168;20:AB:37:8D:92:3E;;未绑定;0;"
,"10.2.53.89;8C:89:A5:BD:46:C8;;未绑定;0;"
,"10.2.53.205;B0:25:AA:22:FF:64;;未绑定;0;"
,"10.2.53.75;5C:9A:D8:E4:9F:B0;;未绑定;0;"
,"10.2.53.61;DC:F0:90:9C:91:DA;;未绑定;0;"
,"10.2.53.112;8C:DC:D4:60:FF:3A;;未绑定;0;"
,"10.2.53.177;00:0E:A9:31:3C:E1;;未绑定;0;"
,"10.2.53.33;78:4F:43:81:3E:DA;;未绑定;0;"
,"10.2.53.84;D4:3D:7E:39:85:12;;未绑定;0;"
,"10.2.53.135;44:37:E6:8A:DA:EA;;未绑定;0;"
,"10.2.53.56;DC:37:14:79:74:04;;未绑定;0;"
,"10.2.53.42;00:23:14:7B:96:70;;未绑定;0;"
,"10.2.53.107;8C:89:A5:3F:F8:C3;;未绑定;0;"
,"10.2.53.93;28:F3:66:09:88:95;;未绑定;0;"
,"10.2.53.144;A8:5B:78:31:12:67;;未绑定;0;"
,"10.2.53.65;04:95:73:DE:40:F4;;未绑定;0;"
,"10.2.53.246;44:37:E6:88:75:D7;;未绑定;0;"
,"10.2.53.116;8C:A6:DF:10:99:19;;未绑定;0;"
,"10.2.53.181;28:6C:07:AE:CB:A0;;未绑定;0;"
,"10.2.53.37;24:0A:64:96:10:B7;;未绑定;0;"
,"10.2.53.102;6C:0B:84:3C:FB:B4;;未绑定;0;"
,"10.2.53.153;4C:49:E3:53:6B:E0;;未绑定;0;"
,"10.2.53.23;E4:A7:A0:38:30:C9;;未绑定;0;"
,"10.2.53.88;04:7D:7B:4A:CE:8A;;未绑定;0;"
,"10.2.53.60;68:F7:28:2B:6C:AD;;未绑定;0;"
,"10.2.53.241;00:40:EF:00:01:01;;未绑定;0;"
,"10.2.53.176;44:37:E6:8B:D8:63;;未绑定;0;"
,"10.2.53.97;EC:A8:6B:60:35:BF;;未绑定;0;"
,"10.2.53.32;CC:2D:B7:55:22:D2;;未绑定;0;"
,"10.2.53.83;00:23:24:88:81:BF;;未绑定;0;"
,"10.2.53.18;D8:96:95:5A:51:87;;未绑定;0;"
,"10.2.53.185;70:5A:0F:CA:B5:97;;未绑定;0;"
,"10.2.53.120;64:9A:BE:50:E1:C2;;未绑定;0;"
,"10.2.53.106;00:21:CC:CD:A2:7D;;未绑定;0;"
);

var qos_ip_list = new Array();
var qos_ip_addr_list = new Array();
var ipcount = 0;
var old_pri=0;

var baklist;
var sortlist;
var ip_stat_list;
var net_conntrack_num;
var ifrefresh=0;
var StatMode=0;

var page="ip_statistics.asp?";
var displaynumber;
var turn = parseInt(getparastr("sort_turn"));
if (!turn)
{
	turn =1;
}
else
{
	turn=!turn;
}
var sort_item = parseInt(getparastr("sort_item"));
if (!sort_item)
{
	sort_item=1;
}

var max_row=parseInt(getparastr("max_row"));
var checklist=new Array();

var nextrefreshtime = Number(10)*1000;
if ((nextrefreshtime==NaN))
{
    nextrefreshtime=1000;
}

var st_list="";
var timer;
var save_list="";
/*定时刷新功能*/
/*var timer;
if (ifrefresh)
{
    timer=setTimeout("refresh();",nextrefreshtime);	
}
*/

var user_list=new Array(

);
///////"1;1;;name:aptl type:ip addr:1.1.1.1-1.1.1.1 1 0,name:aptl type:mac addr:00:00:00:00:00:02 2 0"

var IPmac_list = new Array(
"1.1.1.1-1.1.1.2",
"1.1.1.3-1.1.1.4"
);//用户组不能用，先写死

appip_maxnum=16;
function selectIt(op_list)
{
	var evt=arguments[1]||window.event;
	var the_obj = evt.target||evt.srcElement;
	if(the_obj.tagName.toLowerCase() != "table"){
	var the_td	= get_Element(the_obj,"td");
	if(the_td==null) return;
	var the_tr	= the_td.parentNode;
	
	if (0==the_tr.rowIndex)
	{
		return;
	}
	var i = the_tr.rowIndex-1;
	tmpid="mytable"+i;
	for (var t=0;t<op_list.length;t++)
	{
		var tmpid1="mytable"+t;
		if(checklist[t] == true && t!=i)
		{
			document.getElementById(tmpid1).style.backgroundColor="";
			checklist[t] = false;
		}
	}
		
	checklist[i]=!checklist[i];
	
	document.getElementById(tmpid).style.backgroundColor=checklist[i]?"#80b2f0":"";
	}
	for (j=0;j<op_list.length;j++)
	{
	    if (checklist[j]==1)
	    {
	    	st_list=op_list[j];
		    document.getElementById("op_bind").disabled=false;
			document.getElementById("ip_contrl").disabled=false;
			if(user_list.length>0)
			{
			document.getElementById("op_group").disabled=false;
			}
	        return;
	    }
	}
    document.getElementById("op_bind").disabled=true;
	document.getElementById("ip_contrl").disabled=true;
	document.getElementById("op_group").disabled=true;
}

function myselect(event)
{
	selectIt(ip_stat_list,event);
}

function myhelp()
{
	popupHelp('help.htm#ip_statistics');
}

/*function autoRefresh(f)
{
    var cmd;
	if (f.autorefresh_en.checked==true)
	{
		ifrefresh=1;
		cmd='QOS_REFRESH';
	}
	else if(f.autorefresh_en.checked==false)
	{
		ifrefresh=0;
		cmd='QOS_NOTREFRESH';
	}
	setPage();
	subForm(f,'/goform/aspForm',cmd,page);
}*/

function refresh()/*选择刷新按钮*/
{
	parent.expire_time = parent.user_expire_time *60;
	time_refresh();
	setPage();
	window.location = page ;
}

function setPage()
{
	page="ip_statistics.asp?sort_turn="+Number(turn)+"&sort_item="+sort_item+"&max_row="+document.getElementById('txtMaxRows').value+"";
}

function time_refresh()
{
	parent.parent.expire_time = parent.parent.user_expire_time * 60;
}

function init(f)/*页面初始化*/
{
	cfg2Form(f);/*设置统计周期和是否进行ip流量统计*/
	net_conntrack_num = 0;

	document.onmousedown=time_refresh;
	/*if(ifrefresh==1)
	{
		f.autorefresh_en.checked=true;
		if (f.inter_ip_flux_en.checked == true)
		{
			setTimeout("refresh();",nextrefreshtime);	
		}
	}
	else if(ifrefresh==0)
		f.autorefresh_en.checked=false;*/

	count=ip_stat.length;
	for(i=0;i<count;i++)
	{	
		ip_stat_pkt[i]=ip_stat[i][0]+';'+ip_stat[i][1]+';'+ip_stat[i][3]
			           +';'+ip_stat[i][5]+';'+ip_stat[i][7]+';'+ip_stat[i][9]+';'+ip_stat[i][13] +';'+ip_stat[i][15] +';'+ip_stat[i][16]+';'+ip_stat[i][17];
		ip_stat_bit[i]=ip_stat[i][0]+';'+ip_stat[i][2]+';'+ip_stat[i][4]
			           +';'+ip_stat[i][6]+';'+ip_stat[i][8]+';'+ip_stat[i][9]+';'+ip_stat[i][14] +';'+ip_stat[i][15] +';'+ip_stat[i][16]+';'+ip_stat[i][17];
		net_conntrack_num +=ip_stat[i][9];
	}
//ip_stat_bit=new Array("192.168.1.2;host2;80.6409M;60.33717M;0;0;1",
	//"192.168.1.198;host4;80.6409M;60.33717M;0;0;1");//先写死调试

	
	if(StatMode==0)
	{
		f.stat_mode[0].checked=true;
		ip_stat_list=baklist = ip_stat_bit;
        sortlist=baklist.concat(1);
        sortlist.pop();
	}
	else if(StatMode==1)
	{
		f.stat_mode[1].checked=true;
		ip_stat_list=baklist = ip_stat_pkt;
        sortlist=baklist.concat(1);
        sortlist.pop();
	}
		
	if (f.inter_ip_flux_en.checked == false)
	{
		clearInterval(timer);
		f.statistics_cycle.disabled=true;
		//f.autorefresh_en.disabled=true;
		f.stat_mode[0].disabled=true;
		f.stat_mode[1].disabled=true;
		f.show_mode[0].disabled=true;
		f.show_mode[1].disabled=true;
		f.op_group.disabled=true;
		f.op_bind.disabled=true;
		f.ip_contrl.disabled=true;
		f.manual_refresh.disabled=true;
		//document.getElementById("line_circle").disabled=true;
		document.getElementById("line_mode").disabled=true;
		ip_stat_list.length=0;
		baklist.length=0;
		sortlist.length=0;
		document.getElementById("online_num").innerHTML=0;	
		document.getElementById("net_num").innerHTML=0;	

	}
	else
	{
		document.getElementById("online_num").innerHTML=ip_stat.length;	
		document.getElementById("net_num").innerHTML=net_conntrack_num;	
	}
	
	lblRecordCount.innerHTML=baklist.length;	

	if (max_row)
	{
	   document.getElementById("txtMaxRows").value = max_row;
	}


	if (sort_item == 1)
	{
		sortFunc(1,ip_sort);
	}
	else if (sort_item == 2)
	{
		sortFunc(2,pkt_sort);
	}
	else
	{
		sortFunc(sort_item);
	}

	//gopage();
}

function pkt_sort(a,b)
{
	var gbitFlag1 = a.search(/G/i);
	var gbitFlag2 = b.search(/G/i);
	var mbitFlag1 = a.search(/M/i);
	var mbitFlag2 = b.search(/M/i);
	var kbitFlag1 = a.search(/K/i);
	var kbitFlag2 = b.search(/K/i);

	if (gbitFlag1 != -1)
	{
		if (gbitFlag2 != -1)
		{
			return parseFloat(a)-parseFloat(b);
		}
		else
		{
			return 1;
		}
	}
	else if (mbitFlag1 != -1)
	{
		if (gbitFlag2 != -1)
		{
			return -1;
		}
		else if (mbitFlag2 != -1)
		{
			return parseFloat(a)-parseFloat(b);
		}
		else
		{
			return 1;
		}
	}
	else if (kbitFlag1 != -1)
	{
		if (gbitFlag2 != -1)
		{
			return -1;
		}
		else if (mbitFlag2 != -1)
		{
			return -1;
		}
		else if (kbitFlag2 != -1)
		{
			return parseFloat(a)-parseFloat(b);
		}
		else
		{
			return 1;
		}
	}
	else
	{
		if (gbitFlag2 != -1 || mbitFlag2 != -1 || kbitFlag2 != -1)
		{
			return -1;
		}
		else
		{
			return parseFloat(a)-parseFloat(b);
		}
	}

}

function submitF(f)/*选择确定按钮*/
{
	form2Cfg(f);
	setPage();
	Disable_button_byid("op_confirm");
	subForm(f,'/goform/aspForm','QOSFLUXSTAT',page);
}

function show_ip_pkt_table()
{
	var current_number=0;
	m='';
	{
		m+='<TABLE border=1 width=800 id=ip_stat_table valign=top cellSpacing=0 cellPadding=0  style="BORDER: #c8ddf0 1px solid;" >'+
		'<TR class=list_table_title style="HEIGHT:30px"><TD title="点击排序" width=110 align=center style="cursor:pointer" class='+initclass[0]+' onclick="sortFunc(1,ip_sort);sort_item=1">IP</TD>'+
		'<td width=70 title="点击排序" style="cursor:pointer" class='+initclass[1]+' onclick="sortFunc(2,pkt_sort);sort_item=2">总流量  (pkt)</td>'+
		'<td width=70 title="点击排序" style="cursor:pointer" class='+initclass[2]+' onclick="sortFunc(3);sort_item=3">包速率   (pps)</td>'+
		'<td width=80 title="点击排序" style="cursor:pointer" class='+initclass[3]+' onclick="sortFunc(4);sort_item=4">上行包速率 (pps)</td>'+
		'<td width=110 title="点击排序" style="cursor:pointer" class='+initclass[6]+' onclick="sortFunc(7);sort_item=7">限速前下行包速率 (pps)</td>'+
		'<td width=110 title="点击排序" style="cursor:pointer" class='+initclass[4]+' onclick="sortFunc(5);sort_item=5">限速后下行包速率 (pps)</td>'+
		'<td width=190 title="点击排序" style="cursor:pointer" class='+initclass[5]+' onclick="sortFunc(6);sort_item=6">网络连接数(TCP/UDP/其他)</td>'+
		'</TR>';
	}
	count=ip_stat_list.length;
	for(;current_number < count;current_number++)
	{
		tt = ip_stat_list[current_number].split(";");
		if(current_number%2 == 0)
		m+='<TR class=tb_tr_unblock title="单击选中"  id=mytable'+current_number+' onclick=myselect(event)>';
	    else
		m+='<TR class=tb_tr_block title="单击选中"  id=mytable'+current_number+' onclick=myselect(event)>';
		
		m+='<TD width=110 align=center >'+tt[0]+'</TD>'+
		'<td width=70>'+tt[1]+'</TD>'+
		'<TD width=70 align=center >'+tt[2]+'</TD>'+
		'<TD width=80 align=center >'+tt[3]+'</TD>'+
		'<TD width=110 align=center >'+tt[6]+'</TD>'+
		'<TD width=110 align=center >'+tt[4]+'</TD>'+
		'<TD width=190 align=center >'+tt[5]+ '(' +tt[7]+  '/' +tt[8]+   '/' +tt[9]+  ')</TD>'+
		'</TR>';
	}
	m+='</tr></table></TD>';
	
	document.getElementById("flux_table").innerHTML=m;	
	flux_table.style.height=32+20*(count);
}

function show_ip_bytes_table()
{
	var current_number=0;
	m='';
	{
		m+='<TABLE border=1 width=800 id=ip_stat_table valign=top cellSpacing=0 cellPadding=0  style="BORDER: #c8ddf0 1px solid;" >'+
		'<TR class=list_table_title style="HEIGHT:30px"><TD width=110 align=center title="点击排序" style="cursor:pointer" class='+initclass[0]+' onclick="sortFunc(1,ip_sort);sort_item=1">IP</TD>'+
		'<td width=70 title="点击排序" style="cursor:pointer" class='+initclass[1]+' onclick="sortFunc(2,pkt_sort);sort_item=2">总流量 &nbsp;(bit)</td>'+
		'<td width=70 title="点击排序" style="cursor:pointer" class='+initclass[2]+' onclick="sortFunc(3);sort_item=3">速率&nbsp;&nbsp;   (Kbps)</td>'+
		'<td width=80 title="点击排序" style="cursor:pointer" class='+initclass[3]+' onclick="sortFunc(4);sort_item=4">上行速率&nbsp; (Kbps)</td>'+
		'<td width=110 title="点击排序" style="cursor:pointer" class='+initclass[6]+' onclick="sortFunc(7);sort_item=7">限速前下行速率&nbsp; (Kbps)</td>'+
		'<td width=110 title="点击排序" style="cursor:pointer" class='+initclass[4]+' onclick="sortFunc(5);sort_item=5">限速后下行速率&nbsp; (Kbps)</td>'+
		'<td width=190 title="点击排序" style="cursor:pointer" class='+initclass[5]+' onclick="sortFunc(6);sort_item=6">网络连接数(TCP/UDP/其他)</td>'+
		'</TR>';
	}
	
	count=ip_stat_list.length;
	for(;current_number < count;current_number++)
	{
		tt = ip_stat_list[current_number].split(";");
		if(current_number%2 == 0)
		m+='<TR class=tb_tr_unblock title="单击选中"   id=mytable'+current_number+' onclick=myselect(event)>';
	    else
		m+='<TR class=tb_tr_block title="单击选中"   id=mytable'+current_number+' onclick=myselect(event)>';
		
		m+='<TD width=110 align=center >'+tt[0]+'</TD>'+
		'<td width=70 >'+tt[1]+'</TD>'+
		'<TD width=70 align=center >'+tt[2]+'</TD>'+
		'<TD width=80 align=center >'+tt[3]+'</TD>'+
		'<TD width=110 align=center >'+tt[6]+'</TD>'+
		'<TD width=110 align=center >'+tt[4]+'</TD>'+
		'<TD width=190 align=center >'+tt[5]+ '(' +tt[7]+  '/' +tt[8]+   '/' +tt[9]+  ')</TD>'+
		'</TR>';
	}
	m+='</tr></table>';
	document.getElementById("flux_table").innerHTML=m;	
	flux_table.style.height=32+20*(count);
}

function gopage()
{
    f=document.frmSetup;
    ip_stat_list=sortlist;

	for (j=0;j<checklist.length;j++)
	{
	    if (checklist[j]==1)
	    {
	    	checklist[j]=0;
	    }
	}
    document.getElementById("op_bind").disabled=true;
	document.getElementById("ip_contrl").disabled=true;
	document.getElementById("op_group").disabled=true;
	
    maxrows=document.getElementById("txtMaxRows").value;
    if (maxrows > baklist.length)
    {
        maxrows=baklist.length;
    }
    pageIndex=document.getElementById("txtCurPageIndex").value;
	if (pageIndex == '')
	{
		return;
	}

	if (document.getElementById("txtMaxRows").value == '')
	{
		return;
	}

	if (baklist.length%maxrows == 0)
	{
	    pages = parseInt(baklist.length/maxrows);
	}
	else
	{
	    pages = parseInt(baklist.length/maxrows) + 1;
	}
	
    if (pageIndex > pages)
    {
        pageIndex=pages;
        document.getElementById("txtCurPageIndex").value=pageIndex;
    }
    
	if (baklist.length == 0)
	{
		lblCurPage.innerHTML=1;
	    lblTotalPage.innerHTML=1;
	}
	else
	{
		lblCurPage.innerHTML=pageIndex;
		if (baklist.length%maxrows == 0)
		{
			lblTotalPage.innerHTML=parseInt(baklist.length/maxrows);
		}
		else 
		{
			lblTotalPage.innerHTML=parseInt(baklist.length/maxrows)+1;
		}
	}

   
    newlist=ip_stat_list.slice(maxrows*(pageIndex-1),maxrows*pageIndex);
    ip_stat_list=newlist;
    if (StatMode==1)
    {
    	show_ip_pkt_table();
    }
    else
    {
    	show_ip_bytes_table();
    }
}

function set_refresh()
{
    f=document.frmSetup;
	if (f.statistics_cycle.value == '')
	{
		return;
	}
	
	submitF(f);

	return;
}

function displayMode(f)/*显示模式设置*/
{
    var cmd;
	setPage();
	if (f.stat_mode[0].checked==true)
	{
		cmd='QOS_BYTESMODE';
	}
	else if(f.stat_mode[1].checked==true)
	{
		cmd='QOS_PKTMODE';
	}
	subForm(f,'/goform/aspForm',cmd,page);
}

function show_mode1(){
	var mode=document.getElementsByName("show_mode");	
	if(mode[0].checked)
	{
		document.getElementById("ip_graphic_iframe").contentWindow.chart_destory();
		//document.getElementById("ip_graphic_iframe").contentWindow.location.reload();
		document.getElementById("show_option").style.display="none";
		document.getElementById("ip_graphic").style.display="none";
		document.getElementById("line_mode").style.display="";
		document.getElementById("ip_list_buttom").style.display="";
		document.getElementById("flux_table").style.display="";
		//document.getElementById("ip_list_buttom_graphic").style.display="none";
		document.getElementById("page_table").style.display="";
		document.getElementById("op_group").style.display="";
		document.getElementById("op_bind").style.display="";
		document.getElementById("ip_contrl").style.display="";
		refresh();
		ip_graphic_iframe.pause=false;
		ip_graphic_iframe.fresh_type();
		modeflag = 0;
		
	}
	else
	{
		if(modeflag == 0)
		{			
			nextrefreshtime = 0;
			clearInterval(timer);
			//document.getElementById("ip_graphic_iframe").contentWindow.ip_monitor_init();
			document.getElementById("ip_graphic_iframe").contentWindow.location.reload();
			document.getElementById("show_option").style.display="";
			document.getElementById("line_mode").style.display="none";
			document.getElementById("ip_graphic").style.display="";
			//document.getElementById("stat_mode").style.display="none";
			document.getElementById("ip_list_buttom").style.display="none";
			document.getElementById("flux_table").style.display="none";
			//document.getElementById("ip_list_buttom_graphic").style.display="";
			document.getElementById("page_table").style.display="none";	
			document.getElementById("op_group").style.display="none";
			document.getElementById("op_bind").style.display="none";
			document.getElementById("ip_contrl").style.display="none";
			ip_graphic_iframe.pause=true;
			ip_graphic_iframe.fresh_type();
			modeflag = 1;
		}
		else
		{
			return;
		}
	}
}

function change_addr_type()
{
  if (1 == document.getElementById("addr_type").value )
  {
    document.getElementById("startip_endip_line").style.display = "";
    document.getElementById("ipaddr_ipmask_line").style.display = "none";
    
    document.getElementById("share_mode").value = 1;
    document.getElementById("share_mode_line"     ).disabled = "";
    document.getElementById("share_mode"          ).disabled = "";
  }
  else
  {
    document.getElementById("startip_endip_line").style.display = "none";
    document.getElementById("ipaddr_ipmask_line").style.display = "";
    
    document.getElementById("share_mode").value = 2;       
    document.getElementById("share_mode_line"     ).disabled = "true";
    document.getElementById("share_mode"          ).disabled = "true";    
  }
  
  return;
}

function ip_mask_check(P)
{
  if(NEW_MASK_Check_default(P,"子网掩码"))
  {
    return 1;
  }

  if (P.value != "")    
  {
    ip_rebuild(P);
  }

  return 0;
}

function ip_rebuild(P)
{
  var ip = inet_aton(document.getElementById("ip_addr").value);
  var mask = inet_aton(P.value);
  ip = ip & mask;
  document.getElementById("ip_addr").value = InttoIP(ip);			
}

function calc_ip_num(f)
{
  var item;
  len = qos_ip_list.length;
  for(i=0; i<len; i++)
  {
    item = qos_ip_list[i];
    elem = item.split(';');

    //ip 网段模式不做IP 个数统计
    if (Number(elem[0]) == 2)
    {
      continue;
    }

    for (ip=inet_aton(elem[1]); ip<=inet_aton(elem[2]); ip++)
    {
      found = 0;
      for (j=0; qos_ip_addr_list[j]; j++)
      {
        if (qos_ip_addr_list[j] == ip)
        {
          found = 1;
          continue;
        }
      }
      if (!found)
      {
        qos_ip_addr_list[j] = ip;
        ipcount++;
      }
    }
  }
}
function recalc_ip_num(f)
{
  for (i=0; qos_ip_addr_list[i]; i++)
  {
    qos_ip_addr_list[i] = 0;
  }
  ipcount = 0;
  calc_ip_num(f);
}

function select_limit_direction(f)
{
  if (document.getElementById("direction").value == 1)
  {
    document.getElementById("down_limit").value = "";
    document.getElementById("up_limit").disabled = false;
    document.getElementById("down_limit").disabled = true;
    document.getElementById("down_limit_line").disabled = true;
    document.getElementById("up_limit_line").disabled = false;
  }
  else if (document.getElementById("direction").value == 2)
  {
    document.getElementById("up_limit").value = "";
    document.getElementById("up_limit").disabled = true;
    document.getElementById("down_limit").disabled = false;
    document.getElementById("up_limit_line").disabled = true;
    document.getElementById("down_limit_line").disabled = false;
  }
  else
  {
    document.getElementById("up_limit").disabled = false;
    document.getElementById("down_limit").disabled = false;
    document.getElementById("down_limit_line").disabled = false;
    document.getElementById("up_limit_line").disabled = false;
  }

  return;
}
function content_init(f)
{
  if (ipqos_wan_num==1)
  {
    document.getElementById("outdev_line").style.display = 'none';
   	document.getElementById("outdev").value = 1;
  }
}

function init_add1(f)
{
	clearInterval(timer);
	var st=st_list.split(";");
	document.getElementById("start_ip").value = st[0];
	document.getElementById("end_ip"  ).value = st[0];

    document.getElementById("startip_endip_line").style.display = "";
    document.getElementById("ipaddr_ipmask_line").style.display = "none";

	document.getElementById("startip_endip_line"     ).disabled = "true";
	document.getElementById("start_ip"          ).disabled = "true";
	document.getElementById("end_ip"          ).disabled = "true";
	
    cfg2Form(f);
    content_init(f);
	select_limit_direction(f);
	calc_ip_num(f);
	select_priority();
    old_pri=document.getElementById("priority").value;
	
}

function calc_updated_ip_num(f)
{
  for (ip=inet_aton(f.start_ip.value); ip<=inet_aton(f.end_ip.value); ip++)
  {
    found = 0;
    for (i=0; qos_ip_addr_list[i]; i++)
    {
      if (qos_ip_addr_list[i] == ip)
      {
        found = 1;
        continue;
      }
    }
    if (!found)
    {
      qos_ip_addr_list[i] = ip;
      ipcount++;
    }
  }
}

function add_edit_qosip(f)
{
  // IP 地址范围模式
  	if (Number(f.addr_type.value) == 1)
	{
		if (check_ip_noempty(f.start_ip,"起始IP地址"))
		{
		  f.start_ip.select();
		  return;
		}

		if (check_ip_noempty(f.end_ip,"结束IP地址"))
		{
		  f.end_ip.select();    
		  return;
		}

		if (IP_compare(f.start_ip, f.end_ip))
		{
		  alert("起始IP地址不能大于结束IP地址，请重新输入!");
		  f.start_ip.select();
		  return;
		}

		if (inet_aton(f.start_ip.value)>0 && inet_aton(f.end_ip.value)<0
		  || inet_aton(f.end_ip.value)-inet_aton(f.start_ip.value) > Number(ipqos_lanip_max_ipnum))
		{
		  alert("配置的总IP地址个数不能超过"+ipqos_lanip_max_ipnum+"个，请重新输入!");
		  f.end_ip.select();
		  return;
		}

		calc_updated_ip_num(f);
		if (ipcount > Number(ipqos_lanip_max_ipnum))
		{
		  alert("配置的总IP地址个数不能超过"+ipqos_lanip_max_ipnum+"个，请重新输入!");
		  recalc_ip_num(f);
		  f.end_ip.select();
		  return;
		}
	}
  
  // IP 网段模式
  	if (Number(f.addr_type.value) == 2)
	  {
	    if (check_ip_default_noempty(f.ip_addr, "IP地址"))
	    {
	      return;
	    }

	    if (ip_mask_check(f.ip_mask))
	    {
	      return;
	    }

	    if (((f.ip_addr.value == "0.0.0.0") && (f.ip_mask.value != "0.0.0.0")) ||
	      ((f.ip_addr.value != "0.0.0.0") && (f.ip_mask.value == "0.0.0.0")))
	    {
	      f.ip_mask.select();
	      alert("IP地址和子网掩码不匹配，请重新输入!");
	      return;
	    }
	  }

	  if ((f.direction.value==1 || f.direction.value==3) 
	      && check_range_noempty(f.up_limit,"每IP上行流量上限",1,100000))
	  {
	    return;
	  }
	  if ((f.direction.value==2 || f.direction.value==3)
	      && check_range_noempty(f.down_limit,"每IP下行流量上限",1,100000))
	  {
	    return;
	  }

	  //time
	  if (check_time_noempty(document.getElementById("start_time"),"时间范围起始值")||
	      check_time_noempty(document.getElementById("end_time"),"时间范围结束值"))
	  {
	    return;
	  }

	  start_time=f.start_time.value.split(':');
	  end_time=f.end_time.value.split(':');
	  if ((Number(start_time[0])>Number(end_time[0]))
	      ||((Number(start_time[0])==Number(end_time[0]))&&(Number(start_time[1])>=Number(end_time[1]))))
	  {
	    alert("起始时间必须小于结束时间，请重新输入!");
	    f.start_time.select();
	    return;
	  }

	  //date
	  var flag=0;
	  for (i=0;i<7;i++)
	  {
	    if(f.day[i].checked==true)
	    {
	      flag=1;
	      break;
	    }
	  }
	  if (flag==0)
	  {
	    alert("星期不能为空，请选择星期!");
	    return;
	  }

	  if (name_check_with_chiness(f.note,"描述"))
	  {
	    return;
	  }

  //IP 网段模式下规则能重复
  
  //对整条规则检查
	  {
	    var item;
	    var len = qos_ip_list.length;
	    for(i=0; i<len; i++)
	    {
		    item = qos_ip_list[i];
		    var elem = item.split(';');

			if (f.addr_type.value != elem[0])
	        {
	            continue;
	        }
			  	  
			if (Number(f.addr_type.value) == 1)
			{
			    if (f.start_ip.value != elem[1] || f.end_ip.value != elem[2])
			  	{
			  	    continue;
			  	}
			}
			else
			{
				if (f.ip_addr.value != elem[1] || f.ip_mask.value != elem[2])
			    {
			     	continue;
			        //alert("每个IP网段只能对应一条规则，请重新配置!");
					//f.ip_addr.select();
			        //return;
			    }
			}

			if (f.share_mode.value != elem[3] || f.outdev.value != elem[4]
				|| f.direction.value != elem[5] || f.start_time.value != elem[10] 
				|| f.end_time.value != elem[11])
			{
				continue;
			}
			var j,temp ="";
			l=0;
			for(j=0;j<7;j++)
			{
				if(f.day[j].checked==true)
				{
					if(l==0)
					{
						temp += weekday[j];
						l=1
					}
					else
					{    
						temp += ","+weekday[j];
					}
				}
	  		}
			//alert(temp+"::"+elem[12]);
			if (temp != elem[12])
			{
				continue;
			}
			var pri=i+1;
			if (Number(f.addr_type.value) == 1)
			{
				alert("ip地址范围、带宽共享方式、限速方向和生效时间与第"+pri+"条规则相同!");
			}
			else
			{
				alert("ip地址网段、限速方向和生效时间与第"+pri+"条规则相同!");
			}
			return 0;
	      
	    }
	  }

	  var msg;
	  
	  if (1 == f.addr_type.value)
	  {
	    msg = '1;' + f.start_ip.value + ';' + f.end_ip.value + ';';
	  }
	  else
	  {
	    msg = '2;' + f.ip_addr.value + ';' + f.ip_mask.value + ';';
	  }
	  
	  msg +=   f.share_mode.value + ';'
	         + f.outdev.value     + ';'
	         + f.direction.value  + ';'
	         + f.up_limit.value   + ';'
	         + f.down_limit.value + ';'
	         + f.note.value  + ';';

  
	  if( (f.start_time.value == "00:00")
	    &&(f.end_time.value == "24:00")
	    &&(f.day[0].checked == true)
	    &&(f.day[1].checked == true)
	    &&(f.day[2].checked == true)
	    &&(f.day[3].checked == true)
	    &&(f.day[4].checked == true)
	    &&(f.day[5].checked == true)
	    &&(f.day[6].checked == true))
	  {
	    msg += "all;";
	  }
	  else
	  {
	    msg += "part;";
	  }

	  msg += f.start_time.value + ';';
	  msg += f.end_time.value + ';';

	  l=0;
	  for(i=0;i<7;i++)
	  {
	    if(f.day[i].checked==true)
	    {
	      if(l==0)
	      {
	        msg += weekday[i];
	        l=1
	      }
	      else
	      {    
	        msg += ","+weekday[i];
	      }
	    }
	  }
	
	msg += ';' + document.getElementById("priority").value;
	f.CMD.value = 'ipqos_lanip_additem';

	f.GO.value = cPage;
	f.param.value = msg;
	Disable_button_byid("amend");
	Disable_button_byid("cancel_button");
	f.submit();
    window.returnValue=true;
	//document.body.removeChild(bgObj);
	//document.body.removeChild(msgObj);
	setTimeout("GURL(cPage);",1000);
}

function select_priority()
{
        var m='';
 
        m+='<select name=priority id=priority>';
        for(i=1;i<=qos_ip_list.length;i++)
        {     
            var b=qos_ip_list[i-1].split(';');
            m+='<option value='+i+'>'+i;
        }
        m+='<option value=0 selected>最后';
        m+='</select>';
        document.getElementById("qos_pri").innerHTML=m;
}

function add_edit_ipmac(f)
{
	var i;
    var count, length;
    var msg='';

    if( 0!=check_ip_noempty(f.IP,"IP地址"))
    {
        return;
    }

    if (check_mac_noempty(document.getElementById("MAC"),"MAC地址"))
	{
		return;
	}
	
    if( 0!=name_check_with_chiness(f.DSC,"描述"))
    {
        return ;
    }
    
    length = VlanAllInfo.length;
    for (count=0; count<length; count++)
    {
		tmp = VlanAllInfo[count];
		secter = tmp.split(';');
        for(i=0; i<Number(secter[1]); i++)
        {
            f.LANIP.value = secter[2*i+2];
            if(f.IP.value==f.LANIP.value)
        	{
        	    if(0==i)
        	    {
            		alert("请不要输入与"+secter[0]+"相同的IP地址!");
        		}
        		else
        		{
            		alert("请不要输入与"+secter[0]+"的子IP相同的IP地址!");
        		}
    	        f.IP.select();
        		return;
        	}
        }                
    }
	
	if (Number(IPMACtie_curnum)>=Number(IPMACtie_maxnum) && f.amend.value!="修改")
	{
	    alert("配置项已满，最大表项"+Number(IPMACtie_maxnum)+"条!");	
		return ;
	}

	for (i=0; i< arp_list.length; i++)
	{
		sz = arp_list[i].split(";");
	    if(f.IP.value == sz[0])
	    {
	        if((f.MAC.value != sz[1])&& sz[3]=="静态绑定")/*IP相同但MAC不同*/
	        {
	            alert("同一个IP不能绑定多个MAC!");
	            return;
	        }
	        else if((f.MAC.value == sz[1]) && (sz[3]=="静态绑定"))/*IP MAC都相同*/
	        {
	        	alert("已经存在该静态表项!");
	            return;
	        }
	    }
	}

	msg = f.IP.value+';'+f.MAC.value+';'+f.DSC.value+';';
	f.CMD.value='process_arp_add';


	
	f.GO.value=cPage;
	f.param.value=msg;
	f.action="/goform/aspForm";
	Disable_button_byid("amend");
	Disable_button_byid("id_confirm");
	f.submit();
	window.returnValue=true;
	//document.body.removeChild(bgObj);
	//document.body.removeChild(msgObj);
	setTimeout("GURL(cPage);",1000);
}

function init_add2(f)
{
	clearInterval(timer);
	var st=st_list.split(";");
	f.IP.value=st[0];
	for(var j=0;j<arp_list.length;j++)
	{
		var tt=arp_list[j].split(";");
		if(st[0] == tt[0])
		{
			f.MAC.value=tt[1];
			return;
		}
	}
}
function init_add3(f,n)
{
	clearInterval(timer);
	var st=st_list.split(";");
	var m='';
	var obj = '';
	m+= '<table border=0><tr>';
	m+= '<TD width=120 class=nameTextCell>IP地址段:&nbsp;&nbsp; </TD>'+
	'<TD width=5>'+
	'<TD class=textCell width=400>'+
	'<input name=applayerip1 id=applayerip1 size=15 maxlength=15>到<input name=applayerip2 id=applayerip2 size=15 maxlength=15>';
	m+= '<INPUT type=button class=button name=op_add id=op_add value=添加 onClick=add_iproute(document.frmSetup,"AddIPList")>'+
	'<INPUT DISABLED type=button class=button name=op_del id=op_del value=删除 diabled></TD></TR>'+
	'<TR>	'+
	'<TD width=120 class=nameTextCell>&nbsp;&nbsp;</TD>'+
	'<TD width=5 >'+
	'<TD class=textCell width=400>'+
	'<div id=AddIPListdiv></div></TD>';
 	m+= '</tr></table>';

	document.getElementById("ip_or_mac").innerHTML=m;
	
	var s='';
	s+='<select name="AddIPList" id="AddIPList" multiple="multiple" multiple diabled size="8" style="width:8cm" disabled>';
	var i=0;
	var add_list=user_list[n].split(";");
	var add_list1=add_list[3].split(",");
	for (;i<add_list1.length;i++)
	{
		var addr = add_list1[i].split(" ");
		var addr1 = addr[2].split("ddr:");
		s+='<option value='+i+'>'+addr1[1]+'</option>';
	}
	s+='</select>';
	document.getElementById("AddIPListdiv").innerHTML = s;
	document.getElementById("op_del").disabled = true;
	document.getElementById("applayerip1").disabled = true;
	document.getElementById("applayerip2").disabled = true;
	document.getElementById("applayerip1").value = st[0];
	document.getElementById("applayerip2").value = st[0];	
	document.getElementById("applayerip3").value = add_list[2];
	document.getElementById("applayerip3").disabled = true;
}
function change_iprange()
{
	f=document.fomSetup3;
	var n=document.getElementById("act_user_name").value;
	init_add3(f,n)
}

function add_iproute(f,selectgroup)
{
	var inobject=document.getElementById("AddIPList");
	if (document.getElementById("op_add").value == "添加" && inobject.length >= Number(appip_maxnum))        
    {
        alert("IP和MAC地址段已达到"+Number(appip_maxnum)+"条上限，不能再增加!");
        return;
    }
	if (document.getElementById("applayerip1").value == '' || document.getElementById("applayerip2").value == '')
	{
		alert("IP地址不能为空!");
		return;
	}
	var object=document.getElementById(selectgroup);
	var len=object.length;
	msg=document.getElementById("applayerip1").value+'-'+document.getElementById("applayerip2").value;
	
	var m='';
	for(var n=0;n<len;n++)
	{
		if(object[n].text.toLowerCase() == msg.toLowerCase())
		{
			alert("新增表项在已添加IP段中存在,请重新输入!");
			return;	
		}	
	}
	m+='<select name="AddIPList" id="AddIPList" multiple="multiple" multiple disabled size="8" style="width:8cm">';
	m+=object.innerHTML;
	m+='<option value= -1 id=mytable>'+msg+'</option>';
	m+='</select>';
	//IPmac_list[IPmac_list.length] = "ip addr:"+msg + " -1" + " 1";
	document.getElementById("AddIPListdiv").innerHTML = m;
	document.getElementById("applayerip1").value='';
	document.getElementById("applayerip2").value='';
	document.getElementById("op_add").disabled = true;
}
function add_or_edit_applayer(f)
{
	var n=document.getElementById("act_user_name").value;
	var inobject=document.getElementById("AddIPList");
	var u_indx=user_list[n].split(";");
	if(	document.getElementById("applayerip1").value != '' &&
	document.getElementById("applayerip2").value!='')
	{
		document.body.removeChild(bgObj);
		document.body.removeChild(msgObj);
		GURL(cPage);
		return ;
	}
	var msg;
	var st=st_list.split(";");
	if (st[0] == '')
	{
		alert("IP地址不能为空!");
		return;
	}
	msg = u_indx[0]+";";
	msg += u_indx[1] + ";";
	msg += f.applayerip3.value + ";";
	msg += ";";
	msg += "name:aptl" + " type:ip addr:" + st[0]+"-"+st[0]+";";
    f.CMD.value='EDitusergroup';
	f.GO.value=cPage;
	f.param.value=msg;
	f.submit();
	window.returnValue=true;
	//document.body.removeChild(bgObj);
	//document.body.removeChild(msgObj);
	setTimeout("GURL(cPage);",1000);
}
function sortFunc1(row,func)
{
    sortlist1=baklist1.concat(1);
    sortlist1.pop();
    sortlist1=mysort(sortlist1,turn,row,pattern,func);
}
function generate_dates()
{
	var ip_stat_bit1=new Array();
	var ip_stat_pkt1=new Array();
	var count=ip_stat.length;
	for(i=0;i<count;i++)
	{	
		ip_stat_pkt1[i]=ip_stat[i][0]+';'+ip_stat[i][1]+';'+ip_stat[i][3]
			           +';'+ip_stat[i][5]+';'+ip_stat[i][7]+';'+ip_stat[i][9]+';'+ip_stat[i][13];
		ip_stat_bit1[i]=ip_stat[i][0]+';'+ip_stat[i][2]+';'+ip_stat[i][4]
			           +';'+ip_stat[i][6]+';'+ip_stat[i][8]+';'+ip_stat[i][9]+';'+ip_stat[i][14];
	}
	baklist1 = ip_stat_bit1;
	sortFunc1(3);
	return sortlist1;
}

function restart()
{   
   	for(var i=0;i<ip_stat.length;i++)
	{
		if(document.getElementsByName("show_option1")[i].checked == true)
		{
			ip_stat_num=i;//把要监控的IP地址传到ip_monitor.asp页面
			break;
		}
	}
	document.getElementById("ip_graphic_iframe").contentWindow.chart_destory();
	document.getElementById("ip_graphic_iframe").contentWindow.location.reload();
}	
function alertWin1(htmlboby3)
{
    
    alertWin('加入组',htmlboby3,600,400);
	init_add3(document.fomSetup3,0);
    document.getElementById("act_user_name").focus(); 
}

function alertWin2(htmlboby3)
{
    
    alertWin('ARP绑定',htmlboby3,500,200);
    document.getElementById("DSC").focus(); 
}

function alertWin3(htmlboby3)
{
    
    alertWin('IP流量限制',htmlboby3,500,400);
    document.getElementById("direction").focus(); 
}

function run_refresh()
{
	if (nextrefreshtime == '0')
	{
		return(' ') ;
	}
	else
	{
		//parent.expire_time = parent.user_expire_time *60;
		timer=setTimeout("refresh();",nextrefreshtime); 
		return('<meta http-equiv=refresh content="'+nextrefreshtime+';URL=port_statistics.asp?basicTab=1">');
	}
}
document.write(run_refresh());

</SCRIPT></head>
<BODY topmargin=15 leftmargin=30 marginheight="0" marginwidth="0" style="BACKGROUND:#f5f5f5;"  onload=init(document.frmSetup);>
<A name=firstline>
<table width=800 cellPadding=2 cellSpacing=0 style="BORDER: #244789 0px solid;">
<form name=frmSetup method=post>
<td width=800 valign=top>
	<table width=800 cellPadding=0 cellSpacing=0 style="BORDER: #c8ddf0 1px solid;">
			<td colspan=5 class=tb_text_title >IP流量统计
			<tr>
			<td class=tb_td_h25_p20_left width=15%>统计状态:
			<td class=tb_td_h25_p20_left width=80%>
			<input name="inter_ip_flux_en" id="inter_ip_flux_en" type="checkbox" checked >&nbsp;&nbsp;启用IP流量统计 

		<tr>	
		<TD class='textCell' colspan=2 align=center>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		<INPUT type=button name=op_confirm id=op_confirm class=button value=应用 onClick=submitF(frmSetup)>
		
		<!--TR class=spaceLine><TD colspan=3  class=spaceLine>
			<TR id=line_circle>
				<TD class=tb_td_h25_p20_left width=15%>统计周期：
				<td class=tb_td_h25_p20_left width=40%>
				<select name=statistics_cycle onChange=setTimeout("set_refresh()",100)>
					<option value=5>5
					<option value=10>10
					<option value=15>15
					<option value=20>20
					<option value=25>25
					<option value=30>30
					<option value=35>35
					<option value=40>40
					<option value=45>45
					<option value=50>50
					<option value=55>55
					<option value=60>60
					</select>秒
				<TD tb_td_h25_p20_left width=40%>
				<input name="autorefresh_en" type=checkbox onclick=autoRefresh(frmSetup)>&nbsp;&nbsp;自动刷新-->

			<tr>
			<td class=tb_td_h25_p20_left width=15%>查看方式:
			<td class=tb_td_h25_p20_left width=80%>
			<input name="show_mode" id="show_mode" type="radio" value=0 checked onclick=show_mode1() class=tb_td_h25_p20_left>&nbsp;&nbsp;列表模式
				&nbsp;&nbsp;&nbsp;&nbsp;<input name="show_mode" id="show_mode" type="radio"  value=1 onclick=show_mode1() class=tb_td_h25_p20_left>&nbsp;&nbsp;图形化模式(只显示当前速率较高的前5个IP)
 
 			<TR class='textCell' id=line_mode style="">
			<TD class=tb_td_h25_p20_left width=15%>查看模式：
			<TD class=tb_td_h25_p20_left width=80%>
			<input name="stat_mode" type="radio" value=0 onclick="displayMode(frmSetup)" class=tb_td_h25_p20_left>&nbsp;&nbsp;比特模式
				&nbsp;&nbsp;&nbsp;&nbsp;<input name="stat_mode" type="radio" value=1 onclick="displayMode(frmSetup)" class=tb_td_h25_p20_left>&nbsp;&nbsp;包模式

			<tr id=show_option style=display:none;>
		<td class=tb_td_h25_p20_left >IP选择:
		<td class=tb_td_h25_p20_left>
		<script>
		var count1=datelist.length;
		for(var ip_num=0;ip_num<count1 && ip_num<5;ip_num++)
		{
			var inputhtml4="";
			var datelist1=datelist[ip_num].split(";");
			if(ip_num == 0)
			{
				inputhtml4+="<input name="+"show_option1"+" id="+"show_option1"+" type="+"radio"+" value="+ip_num+" onClick=restart() checked>&nbsp;&nbsp;"+datelist1[0]+"&nbsp;&nbsp;";
			}
			else
			{
				inputhtml4+="<input name="+"show_option1"+" id="+"show_option1"+" type="+"radio"+" value="+ip_num+" onClick=restart() >&nbsp;&nbsp;"+datelist1[0]+"&nbsp;&nbsp;";
			}
			document.write(inputhtml4);
			document.close();
		}
		</script>

			
			</table><HR></td></tr>
	</TABLE></table>
	
	<tr>
		<td valign=top height=40% width=800>
			<table id=ip_graphic width=800 cellPadding=0 cellSpacing=0 style="BORDER: #c8ddf0 1px solid;display:none;">
				<tr><td>
					<iframe id=ip_graphic_iframe  src='ip_monitor.asp' width=800 height=370px frameborder=0 style='border:#666666 0px solid;' scrolling=no></iframe>
				</tr>
			</table>
			
<table border=0 width=800 >
<tr class="textCell" id=line_online><td width=30>&nbsp;
<td>在线主机数:<span id=online_num></span>&nbsp;&nbsp;&nbsp;在线主机的网络连接总数:<span id=net_num></span>
<tr><td width=30>&nbsp;
<td width=800 colSpan=3 align=center>
<div align=left name='flux_table' id='flux_table'>
</div>
<tr><td width=30>&nbsp;
<td width=800 align=right>
	<table name="page_table" id="page_table" border="0" cellspacing="0" cellpadding="0" width="100%">
	<tr class="textCell">
	<td noWrap="noWrap" align="right">
		<span id="lblSecordHead">第</span>
		<span id="lblCurPage">1</span>
		<span >页/共</span>
		<span id="lblTotalPage">1</span>
		<span id="lblFirstHead">页 共</span>
		<span id="lblRecordCount">0</span>
		<span id="lblPageHead"> 条记录 每页</span>
		<input name="txtMaxRows" type="text" id="txtMaxRows" style="BORDER-TOP-WIDTH:1px; BORDER-LEFT-WIDTH:1px; IME-MODE:disabled; BORDER-BOTTOM-WIDTH:1px; HEIGHT:18px; TEXT-ALIGN:center; BORDER-RIGHT-WIDTH:1px" maxlength="4" size="4" value="9" validate="+INT" onkeydown="if (event.keyCode==13) gopage()"/>
		<span id="lblPerPage">行</span>
	</td>
	<td align="right" style="width:5px" valign="middle"><IMG name="imgFirst" id="imgFirst" title=首页 src="first.gif" onclick=firstpage()></td><td width=1>&nbsp;</td>
	<td align="right"  style="width:5px" valign="middle"><IMG name="imgPrev" id="imgPrev" title=上一页 src="prev.gif" onclick=pageup1()></td><td width=1>&nbsp;</td>
	<td  align="right"  style="width:5px" valign="middle"><input name="txtCurPageIndex" type="text" id="txtCurPageIndex" style="BORDER-TOP-WIDTH:1px; BORDER-LEFT-WIDTH:1px; IME-MODE:disabled; BORDER-BOTTOM-WIDTH:1px; HEIGHT:18px; TEXT-ALIGN:center; BORDER-RIGHT-WIDTH:1px" maxlength="4" size="4" value="1" validate="+INT" onkeydown="if (event.keyCode==13) gopage()"/></td>
	<td width=1>&nbsp;</td>
	<td  align="right"  style="width:5px" valign="middle"><input type="button" name="btnGoPage" value="Go" id="btnGoPage" onclick="gopage()"></td><td width=1>&nbsp;</td>
	<td  align="right"  style="width:5px" valign="middle"> <IMG name="imgNext" id="imgNext" title=下一页 src="next.gif" onclick=pagedown1() ></td><td width=1>&nbsp;</td>
	<td  align="right" style="width:5px" valign="middle"><IMG name="imgLast" id="imgLast" title=末页 src="last.gif" onclick=lastpage()></td>
	</tr>
	<SCRIPT language=JavaScript src=PageElementCheck.js></SCRIPT>
	</table>
</tr>
</table>

	<table id=ip_list_buttom width=800 cellPadding=0 cellSpacing=1>
		<tr >					
			<td align=right style=padding-right:0px;>

<script>
var htmlboby3="<tr>";
htmlboby3+="<form name=fomSetup3 action='/goform/aspForm' method=post target='hf'>"
htmlboby3+="<td width=30 valign=top>&nbsp;";
htmlboby3+="<input type=hidden name=CMD>";
htmlboby3+="<input type=hidden name=GO>";
htmlboby3+="<input type=hidden name=param>";
htmlboby3+="</TD>";
htmlboby3+="<iframe name='hf' src="+"act_user_list_cfg.asp"+" width=0 height=0>";
htmlboby3+="</iframe>";
htmlboby3+="<td width=550 valign=top>";
htmlboby3+="<TABLE width=100% cellSpacing=0 cellPadding=2 border=0>";
htmlboby3+="<tr class=spaceLine><TD colspan=3  class=spaceLine>";
htmlboby3+="<TR >";

htmlboby3+="<TD width=120 class=nameTextCell>用户组名：  </TD>";
htmlboby3+="<TD width=5>";
htmlboby3+="<TD class=textCell width=400>";
htmlboby3+="<select name=act_user_name id=act_user_name onChange=change_iprange()>";
for(var ulen=0;ulen<user_list.length;ulen++)
{
	var usename=user_list[ulen].split(";");
	htmlboby3+="<option value="+ulen+">"+usename[1];
}
htmlboby3+="</select>";
htmlboby3+="<TR >";
htmlboby3+="<TD width=120 class=nameTextCell>地址类型：</TD>";
htmlboby3+="<TD width=5>";
htmlboby3+="<TD class='textCell' width=400>";
htmlboby3+="<input type=radio name=addrtype value=0 checked disabled>&nbsp;IP地址 &nbsp;";
htmlboby3+="<input type=radio name=addrtype value=1 disabled> &nbsp; MAC地址 &nbsp;";
htmlboby3+="(IP地址段最多支持256个IP地址)";
htmlboby3+="</TR>";
htmlboby3+="<TR >";
htmlboby3+="<TD colspan=3 class=textCell>";
htmlboby3+="<div name=ip_or_mac id=ip_or_mac></div> ";
htmlboby3+="<TR >";
htmlboby3+="<TD width=120 class=nameTextCell>描述: &nbsp;</TD>";
htmlboby3+="<TD width=5>";
htmlboby3+="<TD class=textCell width=400>";
htmlboby3+="<input name=applayerip3 id=applayerip3 size=15 maxlength=15>&nbsp;(可选, 范围:1~15个字符)";
htmlboby3+="</TR>";
htmlboby3+="</TABLE>";
htmlboby3+="<TABLE border=0 width=550>";
htmlboby3+="<TR><TD colspan=4>&nbsp;";
htmlboby3+="<TR >";
htmlboby3+="<TD width=80 class=nameTextCell>";
htmlboby3+="<TD width=120>";
htmlboby3+="<TD class=textCell >";
htmlboby3+="<INPUT type=button class=button name=amend value=修改 onClick=add_or_edit_applayer(document.fomSetup3)>";
htmlboby3+="<INPUT type=button class=button name=applayerInput value=取消 onClick=document.body.removeChild(bgObj);document.body.removeChild(msgObj);GURL(cPage); ></TD></TR>";

var inputhtml3="<input name=op_group id=op_group type=button class=Button disabled=true value=加入组 onClick=alertWin1(htmlboby3); />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
document.write(inputhtml3);
document.close();
			
			var htmlboby1="<tr>";
			htmlboby1+="<form name=fomSetup2 action='/goform/aspForm' method=post target='hf'>"
			htmlboby1+="<td width=10>"
			htmlboby1+="<input type=hidden name=LANIP>"
			htmlboby1+="<input type=hidden name=LANMASK>"
			htmlboby1+="<input type=hidden name=CMD>"
			htmlboby1+="<input type=hidden name=GO>"
			htmlboby1+="<input type=hidden name=param> "
			htmlboby1+="</td>"
			htmlboby1+="<iframe name="+"hf"+" src="+"arp_tmp.asp"+" width=0 height=0>"
			htmlboby1+="</iframe>"
			htmlboby1+= "<TABLE cellSpacing=0 cellPadding=2 border=0 width=100%>";
		    htmlboby1+="<tr class=spaceLine><TD colspan=3  class=spaceLine>"; 	
		    htmlboby1+="<TR class='textCell'><TD class='textCell'><TD colspan=2>";
		    htmlboby1+="<TR class='textCell'><TD class=spaceLine><TD colspan=2>" ;  	
			htmlboby1+="<TR ><TD width=100 class=nameTextCell>IP地址：</TD>";
			htmlboby1+="<TD width=30><TD class='textCell' width=300><input name="+"IP"+" type="+"text"+" size="+"25"+" maxlength="+"15"+" value='' disabled></TD>";
			htmlboby1+="</TR>";
			htmlboby1+="<TR ><TD width=100 class=nameTextCell>MAC地址：</TD>";
			htmlboby1+="<TD width=30><TD class='textCell' width=300><input name="+"MAC"+" id="+"MAC"+" type="+"text"+" size="+"25"+" maxlength="+"17"+" value=''></TD>";
			htmlboby1+="</TR>";     
			htmlboby1+="<TR ><TD width=100 class=nameTextCell>描述：</TD>";
		    htmlboby1+="<TD width=30><TD class='textCell' width=350><input name="+"DSC"+" id="+"DSC"+" type="+"text"+" size="+"25"+" maxlength="+"15"+" value='' >&nbsp;(可选, 范围:1~15个字符)</TD>";
			htmlboby1+="</TR>";
			htmlboby1+="<tr><td align=center colspan="+"3"+">&nbsp;";
			htmlboby1+="<tr><td align=center colspan="+"3"+">";
			htmlboby1+="<p><INPUT type=button class=button id=amend name=amend value=静态绑定 onclick=add_edit_ipmac(document.fomSetup2)>";
			htmlboby1+="<INPUT type=button class=button id=id_confirm value=取消 onClick=document.body.removeChild(bgObj);document.body.removeChild(msgObj);GURL(cPage);></p>";
			htmlboby1+="</TABLE>";
			var inputhtml1="<input name=op_bind  id=op_bind  type=button class=Button disabled=true value=ARP绑定 onclick=alertWin2(htmlboby1);init_add2(document.fomSetup2) />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
			document.write(inputhtml1);
			document.close();

var htmlboby="<tr>";
htmlboby += "<form name=fomSetup1 method=POST action='/goform/aspForm' target='hf'>";
htmlboby += "<td width=5>&nbsp;";
htmlboby += "<iframe name='hf' src='arp_tmp.asp' width=0 height=0></iframe>";
htmlboby += "<td width=510 valign=top>";
htmlboby += "<TABLE cellSpacing=0 cellPadding=2 border=0 width=100%>";
htmlboby += "<TR><td width=510 colSpan=3 align=center>";
htmlboby += "<table border=0>";
htmlboby += "<TR id=qosip_priority>";
htmlboby += "<TR  class="+"textCell"+" id=qosip_priority_line>";
htmlboby += "<TD width=160 class=nameTextCell>表项序号：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<div id=qos_pri name=qos_pri id=qos_pri></div>";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class="+"textCell"+" id=addr_type_line>";
htmlboby += "<TD width=160 class=nameTextCell disabled=true>受限地址类型：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class="+"textCell"+" width=300>";
htmlboby += "<select id=addr_type onChange=change_addr_type() disabled=true>";
htmlboby += "<OPTION VALUE=1 selected >IP地址范围";
htmlboby += "<OPTION VALUE=2>IP网段";
htmlboby += "</select>";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class='textCell' id=startip_endip_line style="+"display:"+">";
htmlboby += "<TD width=160 class=nameTextCell>起始/结束IP地址：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<input id=start_ip type="+"text"+" size="+"15"+" maxlength="+"15"+">&nbsp;-&nbsp;";
htmlboby += "<input id=end_ip   type="+"text"+" size="+"15"+" maxlength="+"15"+">";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class='textCell' id=ipaddr_ipmask_line style="+"display:"+">";
htmlboby += "<TD width=160 class=nameTextCell>IP地址/子网掩码：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<input id=ip_addr type="+"text"+" size="+"15"+" maxlength="+"15"+" >&nbsp;/&nbsp;";
htmlboby += "<input id=ip_mask type="+"text"+" size="+"15"+" maxlength="+"15"+" >";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class="+"textCell"+" id=share_mode_line>";
htmlboby += "<TD width=160 class=nameTextCell>带宽共享方式：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class="+"textCell"+" width=300>";
htmlboby += "<select id=share_mode>";
htmlboby += "<OPTION VALUE=1 selected >独占";
htmlboby += "<OPTION VALUE=2>共享";
htmlboby += "</select>";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class="+"textCell"+" id=outdev_line>";
htmlboby += "<TD width=160 class=nameTextCell>限速接口：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class="+"textCell"+" width=300>";
htmlboby += "<select id=outdev size=1>";
    if(real_wan_num > 1)
    {
		for (var i = 1; i <= sz_wan.length; i++)
		{
			htmlboby +=  '<option value='+i+'>'+ sz_wan[i-1] +'';
		}
    }
	else
	{
		htmlboby += "<OPTION VALUE=1 selected>WAN";
	}
	
htmlboby += "</select>";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class='textCell' id=direction_line>";
htmlboby += "<TD width=160 class=nameTextCell>限速方向：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<select id=direction name=direction size=1 onChange=select_limit_direction(this.form)>";
htmlboby += "<OPTION VALUE=1>上行限速";
htmlboby += "<OPTION VALUE=2>下行限速";
htmlboby += "<OPTION VALUE=3 selected >双向限速";
htmlboby += "</select>";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class='textCell' id=up_limit_line>";
htmlboby += "<TD width=160 class=nameTextCell>上行流量上限：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<input id=up_limit type="+"text"+" size="+"15"+" maxlength=6>&nbsp;Kbps(范围:1~100000)";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class='textCell' id=down_limit_line>";
htmlboby += "<TD width=160 class=nameTextCell>下行流量上限：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<input id=down_limit type="+"text"+" size="+"15"+" maxlength=6>&nbsp;Kbps(范围:1~100000)";
htmlboby += "</TD>";
htmlboby += "</TR>";

htmlboby += "<TR class='textCell' id=time_line>";
htmlboby += "<TD width=160 class=nameTextCell>生效时间：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class=textCell width=300>";

htmlboby += "<TABLE align=left border=0>";
htmlboby += "<TD class=textCell width=120>";
htmlboby += "<input id=start_time type="+"text"+" size="+"5"+" maxlength="+"5"+" value = "+"00:00"+">&nbsp;--&nbsp;";
htmlboby += "<input id=end_time   type="+"text"+" size="+"5"+" maxlength="+"5"+" value = "+"24:00"+">&nbsp;";
htmlboby += "</TD>";

htmlboby += "<TD class=textCell width=120>";
htmlboby += "<TABLE align=left border=0>";
htmlboby += "<TR align=left class=textcellC>";
htmlboby += "<TD width=20 nowrap>日</TD>";
htmlboby += "<TD width=20 nowrap>一</TD>";
htmlboby += "<TD width=20 nowrap>二</TD>";
htmlboby += "<TD width=20 nowrap>三</TD>";
htmlboby += "<TD width=20 nowrap>四</TD>";
htmlboby += "<TD width=20 nowrap>五</TD>";
htmlboby += "<TD width=20 nowrap>六</TD>";
htmlboby += "</TR>";
htmlboby += "<TR align=center class=textcellC>";
htmlboby += "<TD align=center><input type=checkbox id=day0 name=day value=日 checked></TD>";
htmlboby += "<TD align=center><input type=checkbox id=day1 name=day value=一 checked></TD>";
htmlboby += "<TD align=center><input type=checkbox id=day2 name=day value=二 checked></TD>";
htmlboby += "<TD align=center><input type=checkbox id=day3 name=day value=三 checked></TD>";
htmlboby += "<TD align=center><input type=checkbox id=day4 name=day value=四 checked></TD>";
htmlboby += "<TD align=center><input type=checkbox id=day5 name=day value=五 checked></TD>";
htmlboby += "<TD align=center><input type=checkbox id=day6 name=day value=六 checked></TD>";
htmlboby += "</TR>";
htmlboby += "</TABLE>";
htmlboby += "</TD>";

htmlboby += "</TABLE>";
htmlboby += "</TD>";
htmlboby += "</TR>";
                
htmlboby += "<TR id=note_line>";
htmlboby += "<TD width=160 class=nameTextCell>描述：</TD>";
htmlboby += "<TD width=20></TD>";
htmlboby += "<TD class='textCell' width=360>";
htmlboby += "<input id=note type="+"text"+" size="+"25"+" maxlength="+"15"+">&nbsp;(可选, 范围:1~15个字符)";
htmlboby += "</TD>";
htmlboby += "</TR>";
				
htmlboby += "<TR class='textCell'>";
htmlboby += "<TD width=130 align='right'>";
htmlboby += "<TD width=20>";
htmlboby += "<TD class='textCell' width=300>";
htmlboby += "<input type=button class=button name=amend id=amend value=增加 onClick=add_edit_qosip(this.form)>";
htmlboby += "<input type=button class=button name=ipmacInput id=ipmacInput value=取消 onClick=document.body.removeChild(bgObj);document.body.removeChild(msgObj);GURL(cPage);></TD></TR>";

htmlboby += "<TR class='textCell'>";
htmlboby += "<TD colspan=2 ></TD>";
htmlboby += "<TD><input type=hidden name=CMD>";
htmlboby += "<input type=hidden name=GO>";
htmlboby += "<input type=hidden name=param></TD>";
htmlboby += "</table>";
htmlboby += "</TABLE>";
var inputhtml="<input name=ip_contrl id=ip_contrl type=button class=Button disabled=true value=IP限速 onclick=alertWin3(htmlboby);select_priority();init_add1(document.fomSetup1); />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";

			document.write(inputhtml);
			document.close();
</script>
			<INPUT name=dbutton colspan=3 class=button type=button id=manual_refresh value=刷新 onclick=refresh()>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自动刷新(秒):
				<select select name=statistics_cycle onChange=setTimeout("set_refresh()",100)>
					<option value=0>禁用
					<option value=5>5
					<option value=10>10
					<option value=15>15
					<option value=20>20
					<option value=25>25
					<option value=30>30
					<option value=35>35
					<option value=40>40
					<option value=45>45
					<option value=50>50
					<option value=55>55
					<option value=60>60
					</select>秒
		</tr>				
	</table>
	<!--table id=ip_list_buttom_graphic width=100% cellPadding=0 cellSpacing=1 style="BORDER: #c8ddf0 0px solid;display:none;">
		<tr >					
			<td align=right style=padding-right:0px;>
			<input name=dbutton type=button class=Button value=加入组 />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<input name=dbutton type=button class=Button value=ARP绑定 />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<input name=dbutton type=button class=Button value=IP限速 /></td>
		</tr>				
	</table -->
</td>
</tr>

</form>
</BODY>
</HTML>
